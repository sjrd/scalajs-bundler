<!DOCTYPE html>
<html class="no-js" lang="eng" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motivation</title>
    <link rel="stylesheet" href="theme/css/foundation.min.css">
    <link rel="stylesheet" href="theme/css/app.css">
    
     <link rel="stylesheet" href="theme/highlight.js/styles/github-gist.css">  <link rel="stylesheet" href="theme/css/foundation-icons.custom.css"> 
    
     <link rel="prev" href="index.html"  title="Introduction"  />  <link rel="next" href="getting-started.html"  title="Getting started"  />  <link rel="start" href="index.html"  title="Introduction"  />  <link rel="toc" href="site-contents.html"  title="Table of Contents"  /> 
  </head>
  <body>
    <div class="expanded row">
      <div class="small-12 medium-12 large-12 columns align-self-top">
        <div class="row">
          
          <header class="large-12 columns align-self-top a_header">
            <div class="row">
              <div class="large-12 columns a_limited top-bar">
                <div class="top-bar-left">
                  <p>scalajs-bundler</p>

                </div>
                <div class="top-bar-right align-right row">
                  
                  
                    <form action="site-search.html" method="get" class="align-right a_search">
                      <input name="q" type="search"  placeholder="Search
" >
                      <button><img alt="&#1F50D;" src="theme/images/search.svg" /></button>
                    </form>
                  
                </div>
              </div>
            </div>
          </header>
          
          <div class="small-12 medium-12 large-12 columns align-self-top a_limited a_main">
            <div class="row">
              
              <main class="columns large-order-2 sections" id="_sections">
                 
  <ul class="menu align-right simple a_navbar a_navbar_top">
    
      
        <li><a href="index.html"  title="Introduction" ><span class="a_foundation_icon"></span>  Previous</a></li>
      
    
      
        <li><a href="getting-started.html"  title="Getting started" ><span class="a_foundation_icon"></span>  Next</a></li>
      
    
      
        <li><a href="site-contents.html"  title="Table of Contents" ><span class="a_foundation_icon"></span>  Contents</a></li>
      
    
  </ul>
 
                
                <h1 id="motivation" class="a_section" data-magellan-target="motivation">Motivation<a class="a_hlink" href="#motivation"></a></h1>
<p>The most popular JavaScript package registry is npm. Scala.js projects are usually based on sbt,
which has no knowledge of npm. So, how can Scala.js developers get an <em>integrated experience</em> when
they use libraries published on npm?</p>
<h2 id="webjars" class="a_section" data-magellan-target="webjars">WebJars<a class="a_hlink" href="#webjars"></a></h2>
<p>A first solution is to use <a href="http://www.webjars.org/">WebJars</a>. WebJars wrap .js files into .jar
archives published on maven central, so that Scala developers can depend on them just like
they depend on JVM libraries. However, WebJars have limitations.</p>
<p>First, npm packages are not automatically available as WebJars as soon as they are published on
the npm registry. So, WebJars users have to explicitly publish these npm packages as .jar packages.
This is just a matter of filling and submitting a form with the name and version of the package,
but, still, this is one extra step.</p>
<p>Second, the tool that re-publishes npm packages as .jar packages does not keep track of
<a href="https://github.com/webjars/webjars/issues/1186">transitive dependencies</a>.
It means that when your program depends on a library <code class="hljs">foo</code> that itself depends on a library <code class="hljs">bar</code>,
then you have to explicitly convert both and depend on both in your program. This situation
might turn into a dependency management hell.</p>
<h2 id="double-build" class="a_section" data-magellan-target="double-build">Double build<a class="a_hlink" href="#double-build"></a></h2>
<p>Another solution consists in having two build systems: one for the Scala world and one for
the npm world. At some point, the npm build writes files consumed by the Scala application.</p>
<p>Typically, the npm build defines npm dependencies and bundles them into a single .js
file suitable for web browser consumption and that the Scala.js program can depend
on (e.g. using <code class="hljs">jsDependencies</code>).</p>
<p>This approach works well and allows developers to use whatever tools they want to process
the npm dependencies.</p>
<p>However, having two build systems is not really an <em>integrated</em> developer experience:
developers have to setup two builds, run two shells, and manually take care of the
relationship between the two builds.</p>
<h2 id="scalajs-bundler" class="a_section" data-magellan-target="scalajs-bundler">scalajs-bundler<a class="a_hlink" href="#scalajs-bundler"></a></h2>
<p>scalajs-bundler aims to provide an integrated solution to work with npm packages from
Scala.js projects. It lets developers define their npm dependencies from within their sbt build,
fetches them (using npm itself), and bundles them with the output of the Scala.js compilation.
The result is a single .js file suitable for web browser consumption.</p>

                 
  <ul class="menu align-right simple a_navbar a_navbar_bottom">
    
      
        <li><a href="index.html"  title="Introduction" ><span class="a_foundation_icon"></span>  Previous</a></li>
      
    
      
        <li><a href="getting-started.html"  title="Getting started" ><span class="a_foundation_icon"></span>  Next</a></li>
      
    
      
        <li><a href="site-contents.html"  title="Table of Contents" ><span class="a_foundation_icon"></span>  Contents</a></li>
      
    
  </ul>
 
              </main>
              
              
                <div data-sticky-container class="small-12 medium-12 large-2 large-order-1 columns a_sitenav_container">
                  <nav class="a_sitenav" data-sticky data-sticky-on="large" data-anchor="_sections">
                    
                    <ul>
                       
  <li >
    
      
        <a href="index.html">Introduction</a>
      
    
    
  </li>
  
  <li  class="a_thispage" >
    
      
        <a href="motivation.html">Motivation</a>
      
    
    
  </li>
  
  <li >
    
      
        <a href="getting-started.html">Getting started</a>
      
    
    
  </li>
  
  <li >
    
      
        <a href="reference.html">Reference</a>
      
    
    
  </li>
  
  <li >
    
      
        <a href="cookbook.html">Cookbook</a>
      
    
    
  </li>
  
  <li >
    
      
        <a href="community.html">Community</a>
      
    
    
  </li>
  
  <li >
    
      
        <a href="changelog.html">Changelog</a>
      
    
    
  </li>
 
                    </ul>
                    
                    
                  </nav>
                </div>
              
              
              
                <div class="small-12 medium-12 large-2 large-order-3 columns a_show-for-xlarge" data-sticky-container>
                  <nav class="a_pagenav" data-sticky data-sticky-on="large" data-anchor="_sections">
                     <header><p>On This Page</p>
</header> 
                    <ul class="vertical menu" data-magellan>
                       
  
    <li>
      
         <a href="#motivation">Motivation</a> 
      
      
        <ul class="vertical menu">  
  
    <li>
      
         <a href="#webjars">WebJars</a> 
      
      
    </li>
  
  
  
    <li>
      
         <a href="#double-build">Double build</a> 
      
      
    </li>
  
  
  
    <li>
      
         <a href="#scalajs-bundler">scalajs-bundler</a> 
      
      
    </li>
  
  </ul>
      
    </li>
  
 
                    </ul>
                  </nav>
                </div>
              
            </div>
          </div>
        </div>
      </div>
      
      <footer class="small-12 medium-12 large-12 columns align-self-bottom a_footer">
        <div class="row">
          <div class="small-12 medium-12 large-12 columns top-bar">
            <div class="top-bar-left">
              
            </div>
            <div class="top-bar-right">
              <p>Generated with <a href="https://github.com/szeiger/ornate">Ornate</a>.</p>

            </div>
          </div>
        </div>
      </footer>
    </div>
    
    <script src="theme/js/jquery.min.js"></script>
    <script src="theme/js/what-input.min.js"></script>
    <script src="theme/js/foundation.min.js"></script>
    
    <script src="theme/js/app.js"></script>
    
  </body>
</html>
